# EC2 Configurations<a name="ec2-configurations"></a>

AWS Batch uses Amazon ECS optimized AMIs for EC2 and EC2 Spot compute environments\. The default is currently [Amazon Linux](https://docs.aws.amazon.com/AmazonECS/latest/developerguide/ecs-optimized_AMI.html#alami) \(`ECS_AL1`\) for non\-GPU, non AWS Graviton instances\. Starting on March 31, 2021, this default will be changing to [Amazon Linux 2](https://docs.aws.amazon.com/AmazonECS/latest/developerguide/ecs-optimized_AMI.html#al2ami) \(`ECS_AL2`\)\.

We are making this change because the Amazon Linux AMI has discontinued standard support and entered into a maintenance support period, which is scheduled to end on June 30, 2023\. In this phase, the Amazon Linux AMI will continue to receive critical and important security updates for a reduced list of packages\. During the maintenance support period, an Amazon Linux AMI might still be used for newly\-created managed EC2 and EC2 Spot compute environments by specifying an `[Ec2Configuration](https://docs.aws.amazon.com/batch/latest/APIReference/API_Ec2Configuration.html)` parameter when creating a compute environment\. After the end of the maintenance support period, an Amazon Linux AMI will no longer be a supported image type for new AWS Batch compute environments\.

Existing compute environments and instances will not be affected by this change and will continue to operate with their configured AMI until the end of the maintenance support period\. Amazon Linux AMI will no longer be a supported image type for AWS Batch compute environments\. We encourage migration of all compute environments to Amazon Linux 2 prior to June 30, 2023\. Not all instance types introduced after March 31, 2021, will be supported by the Amazon Linux AMI\. If you use launch templates with custom user data, confirm that everything is configured as expected\.

The storage configuration differs between the Amazon ECS optimized Amazon Linux AMI and Amazon Linux 2\-based Amazon ECS optimized AMIs\. For more information, see [AMI storage configuration](https://docs.aws.amazon.com/AmazonECS/latest/developerguide/ecs-ami-storage-config.html) in the *Amazon Elastic Container Service Developer Guide*\.